<!DOCTYPE html>
<html lang="en">
<head>
<title>Josh Dow</title>
<meta charset="UTF-8">
<link rel=stylesheet href="https://s3-us-west-2.amazonaws.com/colors-css/2.2.0/colors.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
* {
  box-sizing: border-box;
}

/* Style the body */
body {
  font-family: Arial, Helvetica, sans-serif;
  margin: 0;
}

/* Header/logo Title */
.header {
  padding: 2px;
  text-align: center;
  background: #001f3f;
  color: #DDDDDD;
  max-height: 125px;
  z-index: 8;

}

/* Increase the font size of the heading */
.header h1 {
  font-size: 40px;
}

/* Sticky navbar - toggles between relative and fixed, depending on the scroll position. It is positioned relative until a given offset position is met in the viewport - then it "sticks" in place (like position:fixed). The sticky value is not supported in IE or Edge 15 and earlier versions. However, for these versions the navbar will inherit default position */
.navbar {
  overflow: hidden;
  background-color: #0074D9;
  position: sticky;
  position: -webkit-sticky;
  top: 0;
  z-index: 8;
}

/* Style the navigation bar links */
.navbar a {
  float: left;
  display: block;
  color: white;
  text-align: center;
  padding: 14px 20px;
  text-decoration: none;
}


/* Right-aligned link */
.navbar a.right {
  float: right;
}

/* Change color on hover */
.navbar a:hover {
  background-color: darkgray;
  color: #DDDDDD;
}

/* Active/current link */
.navbar a.active {
  background-color: #DDDDDD;
  color: #001f3f;
}

/* Column container */
.row {  
  display: -ms-flexbox; /* IE10 */
  display: flex;
  -ms-flex-wrap: wrap; /* IE10 */
  flex-wrap: wrap;
}

/* Create two unequal columns that sits next to each other */
/* Sidebar/left column */
.side {
  -ms-flex: 30%; /* IE10 */
  flex: 30%;
  background-color: #001f3f;
  padding: 20px;
  color: white;
  padding-bottom: 50px;
}

/* Main column */
.main {   
  -ms-flex: 70%; /* IE10 */
  flex: 70%;
  background-color: white;
  padding: 20px;
  overflow: scroll;
  max-height: 1200px;
}

/* Fake image, just for this example */
.fakeimg {
  background-color: #aaa;
  width: 100%;
  padding: 20px;
}

/* Footer */
.footer {
  position: all;
  right: 0;
  bottom: 0;
  left: 0;
  padding: 20px;
  text-align: center;
  background: #001f2f;
  height: 50px;
  font-size: small;
  color: white;
  z-index: 0;
}

#ac-wrapper {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(255, 255, 255, .6);
    z-index: 1001;
}
#popup {
    width: 555px;
    height: 375px;
    background: #FFFFFF;
    border: 5px solid #000;
    border-radius: 25px;
    -moz-border-radius: 25px;
    -webkit-border-radius: 25px;
    box-shadow: #64686e 0px 0px 3px 3px;
    -moz-box-shadow: #64686e 0px 0px 3px 3px;
    -webkit-box-shadow: #64686e 0px 0px 3px 3px;
    position: relative;
    top: 150px;
    left: 500px;
}

/* Responsive layout - when the screen is less than 700px wide, make the two columns stack on top of each other instead of next to each other */
@media screen and (max-width: 700px) {
  .row {   
    flex-direction: column;
  }
}

/* Responsive layout - when the screen is less than 400px wide, make the navigation links stack on top of each other instead of next to each other */
@media screen and (max-width: 400px) {
  .navbar a {
    float: none;
    width: 100%;
  }
}
</style>
</head>
<body>
<!---<div id="ac-wrapper" style='display:none'>
    	<div id="popup">
        	<center>
				<script src='https://www.google.com/recaptcha/api.js' async defer></script>
			    <form id="comment_form" action="doSomething" method="post">
			      <div class="g-recaptcha" id="rcaptcha" data-sitekey="6Lf7KZ4UAAAAAEXg17TcCvrTwdMRt81KZMPcwR_5"></div>
				  <input type="button" onclick="checkRecaptcha();" value="submit"></input>
			    </form>
        	</center>
    	</div>
	</div> -->
<div class="header">
  <h1>Josh Dow</h1>
  <p>A self-made website portfolio</p>
</div>

<div class="navbar">
  <a href="index.html" class="active">Home</a>
  <a href="work.html">Work</a>
  <a href="extracurs.html">Extra-curriculars</a>
  <a href="hobbies.html">Hobbies/Interests</a>
  <a href="#">Resume</a>
  <a href="#">Cirriculum Vitae</a>
</div>
<div class="row">
  <div class="side">
    <h2>About Me</h2>
    <img src="JD.jpg" height="400" width="200" class="center" padding="20" border="3">
    <h3>B.Sc. Computer Science -- Information Security</h3>
    <h3>B.Sc. Mathematics</h3>
    <p>I hold my two B.Sc. from the University Of Calgary. During my time at the university
    I was a member of the Dino's Mens Varsity Swim Team for all five years of my eligibility.</p>
    <p>As captain of the Dino's Mens Swimming I had the pleasure of training/working with many great individuals</p>
    <p>
    Competitive swimming has been apart of my life for over a decade until I retired in 2019. Some
	notable performances over my career: 10+ provincial records, 8 age group national gold medals, 1 senior
	national gold medal, 1 USPORT gold medal and one USPORT record.</p>
	<p>You can find out more about me in the <a href="hobbies.html" style="color: white">Hobbies/Interests</a> section!</p>
    <div class="fakeimg" style="height:60px;">Image</div><br>

  </div>
<div class="main" style="overflow: auto;">
  	<div class="container mt-2 pt-2" id="medium">
        <div class="jumbotron text-center">
            <h1 class="display-6 mb-6">My Post's</h1>
        </div>
        <div class="row" id="jsonContent" style="margin-top: 10;"></div>
    </div>
        <ul id="pagin" class="pagination justify-content-center"></ul>
</div>
<script type="text/javascript">
    function PopUp(hideOrshow) {
    if (hideOrshow == 'hide') document.getElementById('ac-wrapper').style.display = "none";
    else document.getElementById('ac-wrapper').removeAttribute('style');
}
window.onload = function () {
    setTimeout(function () {
        PopUp('show');
    }, 200);
}
</script>
<script>
function get_action(form) 
{
    var v = grecaptcha.getResponse();
    if(v.length == 0)
    {
        document.getElementById('captcha').innerHTML="You can't leave Captcha Code empty";
        return false;
    }
    else
    {
         document.getElementById('captcha').innerHTML="Captcha completed";
        return true; 
    }
}
</script>
<script> 
function checkRecaptcha() {
  var response = grecaptcha.getResponse();
  if(response.length == 0) { 
    //reCaptcha not verified
    alert("Not correct"); 
  }
  else { 
    //reCaptch verified
    document.getElementById("ac-wrapper").style.display = "none";
  }
}
</script>
<br>
<br>
<div class="footer">
  Josh Dow
</div>
<script type="text/javascript">
 $(function () {
            var mediumPromise = new Promise(function (resolve) {
            var $content = $('#jsonContent');
            var data = {
                rss: 'https://medium.com/feed/@Comparabl'
            };
            $.get('https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fmedium.com%2Ffeed%2F%40Comparabl&api_key=svkqpl9gta415ln5ytqqzmgbvgynlxix3pmr1duf', data, function (response) {
                if (response.status == 'ok') {
                    $("#logo").append(`<img src="${response.feed["image"]}" class="rounded mx-auto d-block">`)
                    var output = '';
                    $.each(response.items, function (k, item) {
                        output += `<div class="card mb-3 mx-auto mr-5 " style="width: 20rem;">`;
                        var tagIndex = item.description.indexOf('<img'); // Find where the img tag starts
                        var srcIndex = item.description.substring(tagIndex).indexOf('src=') + tagIndex; // Find where the src attribute starts
                        var srcStart = srcIndex + 5; // Find where the actual image URL starts; 5 for the length of 'src="'
                        var srcEnd = item.description.substring(srcStart).indexOf('"') + srcStart; // Find where the URL ends
                        var src = item.description.substring(srcStart, srcEnd); // Extract just the URL
                        output += `<img src="${src}" class="card-img-top" alt="Cover image">`;
                        output += `<div class="card-body">`;
                        output += `<h5 class="card-title"><a href="${item.link}">${item.title}</a></h5>`;
                        var yourString = item.description.replace(/<img[^>]*>/g,""); //replace with your string.
                        yourString = yourString.replace('h4', 'p');
                        yourString = yourString.replace('h3', 'p');
                        var maxLength = 120; // maximum number of characters to extract
                        //trim the string to the maximum length
                        var trimmedString = yourString.substr(0, maxLength);
                        //re-trim if we are in the middle of a word
                        trimmedString = trimmedString.substr(0, Math.min(trimmedString.length, trimmedString.lastIndexOf(" ")))
                        output += `<p class="card-text">${trimmedString}...</p>`;
                        output += `<a href="${item.link}" class="btn btn-outline-success">Read More</a>`;
                        output += '</div></div>';
                        return k < 10;
                    });
                    resolve($content.html(output));
                }
            });
            });

mediumPromise.then(function()
            {
                //Pagination
                pageSize = 3;

                var pageCount = $(".card").length / pageSize;

                for (var i = 0; i < pageCount; i++) {
                    $("#pagin").append(`<li class="page-item"><a class="page-link" href="#">${(i + 1)}</a></li> `);
                }
                $("#pagin li:nth-child(1)").addClass("active");
                showPage = function (page) {
                    $(".card").hide();
                    $(".card").each(function (n) {
                        if (n >= pageSize * (page - 1) && n < pageSize * page)
                            $(this).show();
                    });
                }

                showPage(1);

                $("#pagin li").click(function () {
                    $("#pagin li").removeClass("active");
                    $(this).addClass("active");
                    showPage(parseInt($(this).text()))
                });
            });
        });



</script>
</body>
</html>
